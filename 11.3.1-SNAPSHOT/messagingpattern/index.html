<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2014-06-22
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20140622" />
    <meta http-equiv="Content-Language" content="en" />
    <title>The Oracle Coherence Incubator - </title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.0.min.js"></script>

                          
        
<link rel="shortcut icon" href="images/incubator-logo.ico"/>
                      
        
<script src="js/site.js" type="text/javascript"></script>
                      
        
<script type="text/javascript">var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-39051314-1']);
                _gaq.push(['_trackPageview']);

                (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                })();</script>
          
            </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/coherence-community/coherence-incubator/">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Coherence Incubator Site</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2014-06-22</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 11.3.1-SNAPSHOT</li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Oracle Coherence Incubator</li>
                                
      <li>
    
                          <a href="../index.html" title="Welcome">
          <i class="none"></i>
        Welcome</a>
            </li>
                  
      <li>
    
                          <a href="../history.html" title="Change History">
          <i class="none"></i>
        Change History</a>
            </li>
                  
      <li>
    
                          <a href="../upgrading.html" title="Upgrading">
          <i class="none"></i>
        Upgrading</a>
            </li>
                  
      <li>
    
                          <a href="../examples.html" title="Examples">
          <i class="none"></i>
        Examples</a>
            </li>
                  
      <li>
    
                          <a href="../support.html" title="Getting Help">
          <i class="none"></i>
        Getting Help</a>
            </li>
                              <li class="nav-header">Development</li>
                                
      <li>
    
                          <a href="../license.html" title="License">
          <i class="none"></i>
        License</a>
            </li>
                  
      <li>
    
                          <a href="../release-numbers.html" title="Release Numbers">
          <i class="none"></i>
        Release Numbers</a>
            </li>
                  
      <li>
    
                          <a href="../source-code.html" title="Source Code">
          <i class="none"></i>
        Source Code</a>
            </li>
                  
      <li>
    
                          <a href="../building.html" title="Build Instructions">
          <i class="none"></i>
        Build Instructions</a>
            </li>
                  
      <li>
    
                          <a href="../issue-tracking.html" title="Issue Tracking">
          <i class="none"></i>
        Issue Tracking</a>
            </li>
                  
      <li>
    
                          <a href="../contributions.html" title="Contributions">
          <i class="none"></i>
        Contributions</a>
            </li>
                  
      <li>
    
                          <a href="../logging.html" title="Logging">
          <i class="none"></i>
        Logging</a>
            </li>
                              <li class="nav-header">Modules</li>
                                                                                                                                                                                                                                              
      <li>
    
                          <a href="../common/index.html" title="The Common Package">
          <i class="icon-chevron-down"></i>
        The Common Package</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="../common/extensible-environments-overview.html" title="Extensible Environments">
          <i class="none"></i>
        Extensible Environments</a>
            </li>
                      
      <li>
    
                          <a href="../common/extensible-environments-namespaces.html" title="Cache Config Namespaces">
          <i class="none"></i>
        Cache Config Namespaces</a>
            </li>
                      
      <li>
    
                          <a href="../common/extensible-environments-tutorial.html" title="Custom Namespaces Tutorial">
          <i class="none"></i>
        Custom Namespaces Tutorial</a>
            </li>
                      
      <li>
    
                          <a href="../common/coherence-namespace.html" title="The Coherence Namespace">
          <i class="none"></i>
        The Coherence Namespace</a>
            </li>
                      
      <li>
    
                          <a href="../common/element-namespace.html" title="The Element Namespace">
          <i class="none"></i>
        The Element Namespace</a>
            </li>
                      
      <li>
    
                          <a href="../common/filter-namespace.html" title="The Filter Namespace">
          <i class="none"></i>
        The Filter Namespace</a>
            </li>
                      
      <li>
    
                          <a href="../common/jndi-namespace.html" title="The JNDI Namespace">
          <i class="none"></i>
        The JNDI Namespace</a>
            </li>
                      
      <li>
    
                          <a href="../common/instance-namespace.html" title="The Instance Namespace*">
          <i class="none"></i>
        The Instance Namespace*</a>
            </li>
                      
      <li>
    
                          <a href="../common/value-namespace.html" title="The Value Namespace*">
          <i class="none"></i>
        The Value Namespace*</a>
            </li>
                      
      <li>
    
                          <a href="../common/amazon-ec2-addressprovider.html" title="Working with Amazon EC2">
          <i class="none"></i>
        Working with Amazon EC2</a>
            </li>
              </ul>
        </li>
                                                              
      <li>
    
                          <a href="../commandpattern/index.html" title="The Command Pattern">
          <i class="icon-chevron-down"></i>
        The Command Pattern</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="../commandpattern/simple-example.html" title="Simple Example">
          <i class="none"></i>
        Simple Example</a>
            </li>
              </ul>
        </li>
                                                              
      <li>
    
                          <a href="../functorpattern/index.html" title="The Functor Pattern">
          <i class="icon-chevron-down"></i>
        The Functor Pattern</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="../functorpattern/simple-example.html" title="Simple Example">
          <i class="none"></i>
        Simple Example</a>
            </li>
              </ul>
        </li>
                                                                                                                                                        
      <li>
    
                          <a href="../processingpattern/index.html" title="The Processing Pattern">
          <i class="icon-chevron-down"></i>
        The Processing Pattern</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="../processingpattern/configuration.html" title="Configuration">
          <i class="none"></i>
        Configuration</a>
            </li>
                      
      <li>
    
                          <a href="../processingpattern/monitoring.html" title="Monitoring">
          <i class="none"></i>
        Monitoring</a>
            </li>
                      
      <li>
    
                          <a href="../processingpattern/processing-namespace.html" title="The Processing Namespace">
          <i class="none"></i>
        The Processing Namespace</a>
            </li>
                      
      <li>
    
                          <a href="../processingpattern/simple-example.html" title="Simple Example">
          <i class="none"></i>
        Simple Example</a>
            </li>
                      
      <li>
    
                          <a href="../processingpattern/pi-calculation-example.html" title="Pi Calculation Example">
          <i class="none"></i>
        Pi Calculation Example</a>
            </li>
                      
      <li>
    
                          <a href="../processingpattern/task-execution-example.html" title="Task Execution Example">
          <i class="none"></i>
        Task Execution Example</a>
            </li>
              </ul>
        </li>
                  
      <li class="active">
    
            <a href="#"><i class="none"></i>The Messaging Pattern</a>
          </li>
                                                              
      <li>
    
                          <a href="../eventdistributionpattern/index.html" title="The Event Distribution Pattern">
          <i class="icon-chevron-down"></i>
        The Event Distribution Pattern</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="../eventdistributionpattern/event-namespace.html" title="The Event Namespace">
          <i class="none"></i>
        The Event Namespace</a>
            </li>
              </ul>
        </li>
                                                                                                                                                        
      <li>
    
                          <a href="../pushreplicationpattern/index.html" title="The Push Replication Pattern">
          <i class="icon-chevron-down"></i>
        The Push Replication Pattern</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="../pushreplicationpattern/active-passive-tutorial.html" title="Active Passive Tutorial">
          <i class="none"></i>
        Active Passive Tutorial</a>
            </li>
                      
      <li>
    
                          <a href="../pushreplicationpattern/active-passive-example.html" title="Active Passive Example">
          <i class="none"></i>
        Active Passive Example</a>
            </li>
                      
      <li>
    
                          <a href="../pushreplicationpattern/active-active-example.html" title="Active Active Example">
          <i class="none"></i>
        Active Active Example</a>
            </li>
                      
      <li>
    
                          <a href="../pushreplicationpattern/hub-and-spoke-example.html" title="Hub And Spoke Example">
          <i class="none"></i>
        Hub And Spoke Example</a>
            </li>
                      
      <li>
    
                          <a href="../pushreplicationpattern/auction-example.html" title="Auction Example">
          <i class="none"></i>
        Auction Example</a>
            </li>
                      
      <li>
    
                          <a href="../pushreplicationpattern/web-example.html" title="Web Example">
          <i class="none"></i>
        Web Example</a>
            </li>
              </ul>
        </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <h2>The Messaging Pattern</h2>

<h4>Overview</h4>

<p>Provides a simple implementation of Store and Forward Messaging, built using
Oracle Coherence.</p>

<h4>Distribution</h4>

<p>The Messaging Pattern implementation is distributed in the jar file
called: <code>coherence-messagingpattern-11.3.1-SNAPSHOT.jar</code>.</p>

<p>However as the Messaging Pattern has several other dependencies, we **strongly
recommend** that developers adopt and use tools like Apache Maven/Ivy/Gradle to
transitively resolve the said dependencies, instead of attempting to do so manually.</p>

<p>To configure your Apache Maven-based application to use the Messaging Pattern,
simply add the following declaration to your application <code>pom.xml</code> file
<code>&lt;dependencies&gt;</code> element.</p>

<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;com.oracle.coherence.incubator&lt;/groupId&gt;
    &lt;artifactId&gt;coherence-messagingpattern&lt;/artifactId&gt;
    &lt;version&gt;11.3.1-SNAPSHOT&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>

<h4>Details</h4>

<p>The Messaging Pattern advocates that:*
*    <code>Payload</code>, typically represented as a <code>Message</code> object, may be sent to a 
    <code>Destination</code> from a <code>Publisher</code>.</p>

<ul>
<li><p>It is the responsibility of the infrastructure managing the <code>Destination</code> 
to ensure that <code>Messages</code> (arriving at the said <code>Destination</code>) are then 
stored (in some manner) and consequently forwarded (in the order in which 
they arrived at the said <code>Destination</code>) to one or more <code>Subscribers</code>.</p></li>
<li><p>The <code>Subscribers</code> appropriately consume (receive and acknowledge receipt) 
of the said <code>Messages</code> from the <code>Destination</code> in the order in which they 
were forwarded to the said <code>Subscribers</code>.</p></li>
<li><p>The infrastructure managing the <code>Messages</code> appropriately clean-up (remove 
and garbage collect) the said <code>Messages</code> that have been consumed by <code>Subscribers</code>.</p></li>
<li><p>The type of the <code>Destination</code> determines the method of delivery to the <code>Subscribers</code> 
of that <code>Destination</code>.</p></li>
<li><p>A <code>Topic Destination</code> or as they are more commonly known, <code>Topic</code>s, will store 
and forward <code>Messages</code> to all of the <code>Subscribers</code> of the said <code>Topic</code>. This 
form of <code>Message</code> delivery is often called "publish-and-subscribe messaging", 
or "one-to-many messaging".</p></li>
<li><p>A <code>Queue Destination</code>, or as they are more commonly known, <code>Queue</code>s, will 
store and forward <em>Messages</em> to at most one of the <code>Subscribers</code> of the said 
<code>Queue</code>. For each <code>Message</code> a different <code>Subscriber</code> may be used, but this 
is implementation and runtime dependent. This form of <code>Message</code> delivery is 
often called "point-to-point messaging" or "one-to-one messaging".</p></li>
<li><p>A <code>Message</code> may be <code>Persistent</code> or <code>Non-Persistent</code>. In the case of <code>Persistent Messages</code>, 
the infrastructure managing the <code>Destination</code> must safely store the said 
<code>Messages</code> to a persistent (and recoverable) storage device so that in the 
case of infrastructure failure, <code>Messages</code> may be recovered (not lost).</p></li>
<li><p>A <code>Subscriber</code> to a <code>Topic</code> is either <code>Durable</code> or <code>Non-Durable</code>. An application
using <code>Durable Subscriptions</code> is permitted to terminate and restart without 
losing <code>Messages</code> that were destined for delivery to the said application
<code>Subscribers</code>, including those that would have been delivered during the 
application shutdown or disconnection.</p></li>
</ul>

<p>While it's rare that an architecture making extensive use of Coherence will require 
Store and Forward Messaging (due to the ability to use MapListeners, Continuous 
Queries and events for notifications), there are arguably some circumstances where 
the pattern is particularly useful.</p>

<p>Although providing an implementation of store and forward Messaging on-top-of-Coherence 
has always been possible (as demonstrated by this implementation), most application-level 
requirements for messaging are often satisfied using existing, off-the-shelf and 
standardized corporate messaging infrastructure, like JMS. In the cases where such 
infrastructure is not available or not appropriate, this implementation may provide 
some benefits.</p>

<p>While it is not the intention nor is it the purpose of this implementation to 
replace existing organizational messaging infrastructure, this pattern is specifically 
designed to provide a flexible framework for embedded, application-specific, 
high-performance messaging on a Data Grid.</p>

<p>More specifically, this implementation has been designed as a minimal framework 
to support the implementation of multi-directional and multi-point (no single 
point of failure) guaranteed event distribution, typically between multiple 
Coherence clusters separated by high-latency, high-bandwidth and often unreliable 
wide-area-networks (WANs)... aka: The <a href="../eventdistributionpattern/index.html">Event Distribution Pattern</a>.</p>

<h4>Design</h4>

<p>Internally the Messaging Pattern uses three Oracle Coherence distributed caches:
the <code>Destination</code> cache (for storing <code>Topic</code> and <code>Queue</code> definitions), the <code>Subscription</code> cache
and the <code>Message</code> cache.  All of these caches are managed though the <code>MessagingSession</code> interface.</p>

<p>To use the Messaging Pattern, an application creates a <code>MessagingSession</code>, through 
which it will create <code>Destinations</code>, subsribe to `Destinations and then publish
<code>Messages</code> to those <code>Destinations</code>.</p>

<p>When an application publishes a <code>Message</code>, it is put in the <code>Messages</code> cache. <br />
A backing map listener on the <code>Messages</code> cache then receives an insert event 
after which schedules a thread to process the newly inserted <code>Message</code>.  </p>

<p>For <code>Topics</code>, the background thread will notify each <code>Subscription</code> about the new 
<code>Message</code>.  All <code>Topic</code> <code>Subscriptions</code> will receive the message. </p>

<p>For <code>Queues</code> the background thread will request that the <code>Queue</code> hands the <code>Message</code> 
to a single <code>Subscription</code>, the next one waiting for a message.  Meanwhile, a
<code>Subscriber</code>, which typically runs in a client JVM, will be notified of a <code>Message</code>
to process (as their <code>Subscription</code> is updated).</p>

<p>Features of the Messaging Pattern:
*   The Messaging Pattern is naturally geared for accepting as many messages as 
    physically possible (until the network capacity is exceeded or you run out of storage).</p>

<ul>
<li><p>Monitoring of all <code>Destinations</code> is provided via JMX.  Simply enable Oracle 
Coherence JMX monitoring to the Messaging tree which shows all <code>Topics</code>, 
<code>Queues</code> and <code>Subscriptions</code>.</p></li>
<li><p>Message delivery is guaranteed to occur in-order on a per client session publisher basis.</p></li>
<li><p>Server-loss (i.e.: cluster member loss) does not effect the availability of 
the messaging infrastructure to deliver or consume messages in-order.
(as it's built using Oracle Coherence distributed caching).</p></li>
</ul>

<p>The most significant interface (from an application-level perspective) is the 
<code>MessagingSession</code>. Implementations of this interface, namely the <code>DefaultMessagingSession</code>, 
is how you control the messaging infrastructure, including:
*   Creating <code>Topic</code> and <code>Queue</code> <code>Destinations</code></p>

<ul>
<li><p>Subscribing and Unsubscribing to <code>Destinations</code> (creating <code>Subscribers</code>).</p></li>
<li><p>Publishing <em>Payload</em> to <code>Destinations</code>, and</p></li>
<li><p>Subscribing and reading (ie: consuming) <code>Payload</code> from <code>Subscriptions</code>.</p></li>
</ul>

<h4>Example: Using Topics</h4>

<p>The following examples outline the use of Topics (one to many messaging), where 
each published message is delivered to all subscribers.</p>

<p><img src="../images/messagingpattern/one-to-many.png" alt="One To Many Messaging" /></p>

<h5>Step 1: Creating a MessagingSession</h5>

<p>Once you've installed and appropriately configured the implementation (see below), 
the first thing you need to do is create a <code>MessagingSession</code> by calling 
<code>DefaultMessagingSession.getInstance()</code> method.</p>

<pre><code>MessagingSession messagingSession = DefaultMessagingSession.getInstance();
</code></pre>

<blockquote>
  <p>  Message ordering is guaranteed on a per session basis. All messages published 
    using a given session will arrive at the subscriber in the same order, however 
    there is no defined ordering for messages between sessions. Consider this example. 
    A client thread is publishing messages A and B.  At the same time, another client 
    thread is publishing C and D to the same topic using a different session. 
    A subscriber might receive the messages in any of the following orders: 
    <code>A,B,C,D</code> or <code>A,C,B,D</code> or <code>C,A,B,D</code>, etc.</p>
</blockquote>

<h5>Step 2: Creating a Topic</h5>

<p>Once you have a <code>MessagingSession</code> you can create a <code>Topic</code>.</p>

<pre><code>Identifier topicIdentifier = messagingSession.createTopic("my-topic");
</code></pre>

<blockquote>
  <p>  A Topic is uniquely identified within the cluster by its name. If the <code>Topic</code> 
    with the specified name (or <code>Identifier</code>) already exists, the <code>Identifier</code> 
    of the existing <code>Topic</code> is returned.</p>
</blockquote>

<h5>Step 3a: Subscribing to a Topic (non-durable subscriptions)</h5>

<p>Once you have created a <code>Topic</code> you can subscribe to it by creating a <code>Subscriber</code>. 
By default, <code>Subscribers</code> to <code>Topics</code> (and <code>Queues</code>) are non-durable. That is, 
when a <code>Subscriber</code> becomes disconnected from the messaging infrastructure, all 
of the visible messages for the said <code>Subscriber</code> are appropriately rolled back 
and the subscription for the <code>Subscriber</code> is removed.</p>

<pre><code>Subscriber subscriber = messagingSession.subscribe(topicIdentifier);
</code></pre>

<p>If you don't have the Identifier of the <code>Destination</code> to which you would like to s
ubscribe, you can simply use it's name (as a String). For example;</p>

<pre><code>Subscriber subscriber = messagingSession.subscribe("my-topic");
</code></pre>

<h5>Step 3b: Subscribing to a Topic (durable subscriptions)</h5>

<p>To create a durable subscription to a <code>Topic</code>, you need to provide an appropriate 
<code>TopicSubscriptionConfiguration</code> when subscribing.</p>

<pre><code>Subscriber subscriber = messagingSession.subscribe(
    "my-topic", 
    TopicSubscriptionConfiguration.newDurableConfiguration("my-durable-subscription"));
</code></pre>

<blockquote>
  <p>  To resubscribe to a previously created durable subscription, simply call the 
    subscribe method again with the same durable configuration (including the 
    same subscription name)</p>
</blockquote>

<h5>Step 4: Publishing Messages</h5>

<p>To publish payload to a <code>Destination</code>, either <code>Topics</code> or <code>Queues</code>, you need to 
again use the <code>MessagingSession</code>. It's simple, call <code>publishMessage(...)</code> with 
the <code>Identifier</code> (or name) of the <code>Destination</code> and the corresponding <code>Payload</code>.</p>

<pre><code>messagingSession.publishMessage(topicIdentifier, "Hello World");
</code></pre>

<p>or</p>

<pre><code>messagingSession.publishMessage("my-topic", "Hello World");
</code></pre>

<blockquote>
  <p>  The only thing you need to ensure is that the <em>payload</em> being published is 
    in some way <code>serializable</code>, either by implementing standard Java <code>java.io.serializable</code> 
    or Oracle Coherence <code>ExternalizableLite</code> or <code>PortableObject</code>.</p>
</blockquote>

<h5>Step 5: Consuming a message with a Subscriber</h5>

<p>In order to consume a message using a <code>Subscriber</code> you need to use the <code>Subscriber</code> 
<code>getMessage()</code> method. This method will request, block and wait for a message 
to be delivered to the Subscriber and then returned to your application.</p>

<pre><code>String message = (String)subscriber.getMessage();
</code></pre>

<p>By default newly created <code>Subscribers</code> are in "auto-commit" mode. This means 
that any message received from a <code>Subscriber</code> will be automatically acknowledged 
and removed from underlying messaging infrastructure. If however you'd like the 
opportunity to <em>rollback</em> received messages, simply set the <code>Susbcriber</code> auto 
commit mode to false. For Example:</p>

<pre><code>subscriber.setAutoCommit(false);
</code></pre>

<p>Once you have done this you may make use of the <code>rollback</code> or <code>commit</code> methods 
on the <code>Subscriber</code> interface to manually control message acknowledgement in the 
underlying messaging infrastructure. </p>

<blockquote>
  <p>  Like most messaging systems, including JMS, subscribers should only be used 
    by a single thread. If you require concurrent subscriptions to a <code>Destination</code>, 
    simply create more <code>Subscribers</code>.</p>
</blockquote>

<h4>Example: Using Queues</h4>

<p>The following examples outline the use of Queues (many to many messaging), where 
each message published is delivered to one and only one subscriber.</p>

<p><img src="../images/messagingpattern/one-to-one.png" alt="One To One Messaging" /></p>

<h5>Step 1: Creating a Messaging Session</h5>

<p>Once you've installed and appropriately configured the implementation (see below), 
the first thing you need to do is create a <code>MessagingSession</code>. This simplest way 
to achieve this is to use the statically defined <code>DefaultMessagingSession.getInstance()</code> 
method.</p>

<pre><code>MessagingSession messagingSession = DefaultMessagingSession.getInstance();
</code></pre>

<h5>Step 2: Creating a Queue</h5>

<p>Much like creating <code>Topics</code>, to create a <code>Queue</code> you use a <code>MessagingSession</code>.</p>

<pre><code>Identifier queueIdentifier = messagingSession.createQueue("my-queue");
</code></pre>

<blockquote>
  <p>  If the <code>Queue</code> with the specified name (or <code>Identifier</code>) already exists, 
    the <code>Identifier</code> of the existing <code>Queue</code> is returned.</p>
</blockquote>

<h5>Step 3: Subscribing to a Queue</h5>

<p>Once you have created a <code>Queue</code> you can subscribe to it by creating a <code>Subscriber</code>. 
<code>Subscribers</code> to <code>Queues</code> are always non-durable. That is, when a <code>Subscriber</code> 
becomes disconnected from the messaging infrastructure, all of the visible messages 
for the said <code>Subscriber</code> are appropriately rolled back and the subscription for 
the <code>Subscriber</code> is removed.</p>

<pre><code>Subscriber subscriber = messagingSession.subscribe(queueIdentifier);
</code></pre>

<p>If you don't have the Identifier of the <code>Destination</code> to which you would like 
to subscribe, you can simply use it's name (as a String). For example;</p>

<pre><code>Subscriber subscriber = messagingSession.subscribe("my-queue");
</code></pre>

<h4>Frequently Asked Questions</h4>

<p><strong>Why don't you support the Java Messaging Specification (ie: JMS) or feature X of JMS?</strong></p>

<p>While it is theoretically possible for this implementation to be a SPI (Service 
Provider Implementation) for the Java Messaging Specification (JMS), this 
implementation has been explicitly designed to support the development of the 
<a href="../eventdistributionpattern/index.html">Event Distribution Pattern</a> and other 
WAN-based architectures, that of which do not necessarily require JMS.</p>

<p><strong>How can I monitor the infrastructure?</strong></p>

<p>Two ways. Firstly by enabling JMX, you'll find that all <code>Destinations</code> (ie: <code>Topics</code>) 
are automatically registered into the clustered JMX tree (under Messaging). 
Secondly, as all of the infrastructure state is represented using Oracle Coherence 
distributed caches; you may examine, listen to and mutate the appropriately named 
caches, called: <code>coherence.messagingpattern.destinations</code>, <code>coherence.messagingpattern.messages</code>
and <code>coherence.messagingpattern.subscriptions</code>.</p>

                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                   2014.
          All Rights Reserved.      
                    
      </div>

                                                                  <?xml version="1.0" encoding="UTF-8"?>
<div class="copyright">Copyright Â© 2008-2013 Oracle Corporation. All rights reserved.</div>
                                                          <?xml version="1.0" encoding="UTF-8"?>
<div class="version">Version 11.3.1-SNAPSHOT: 2014-06-22 10:15</div>
                  
        
                </div>
    </footer>
  </body>
</html>
